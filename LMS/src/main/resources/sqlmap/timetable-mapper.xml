<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="time">

<!-- 수강신청 리스트 조회 -->
<select id="regist" resultType="timetable.TimeTableVO">
	select * from lectures order by lecture_num
</select>

<!-- 상세보기 -->
<select id="detail" resultType="timetable.TimeTableVO">
	 select lecture_num, lecture_title, sortation, lecture_room, teacher_name, lecture_time, subjectcredit, state, book, capacity from lectures where lecture_num = #{lecture_num}
	<!-- select lecture_num, lecture_title, sortation, lecture_room, teacher_name, 
	DECODE(lecture_time,'1교시',' 1교시(9:00~9:50)','2교시',' 2교시(10:00~10:50)','3교시',' 3교시(11:00~11:50)', '4교시',' 4교시(12:00~12:50)', '5교시',' 5교시(14:00~14:50)', '6교시',' 6교시(15:00~15:50)', '7교시',' 7교시(16:00~16:50)', '8교시',' 8교시(17:00~17:50)'), 
	subjectcredit, state, book from lectures where lecture_num = #{lecture_num} -->
</select>

<!-- 학과 목록 조회 -->
<select id="titleList" resultType="timetable.TimeTableVO">
	select distinct lecture_title, lecture_num from lectures order by lecture_num
</select>

<!-- 과목명으로 검색 -->
<select id="lecture_title_list" resultType="timetable.TimeTableVO">
	select * from lectures where lecture_title like '%'|| #{lecture_title, jdbcType=VARCHAR} ||'%'
</select>

<!-- 내 시간표 보기 -->
<select id="my_timeTable" resultType="timetable.TimeTableVO">
	select lecture_title from lectures where reception_status = '신청'
</select>

</mapper>