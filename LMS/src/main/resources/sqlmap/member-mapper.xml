<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">


<!-- 전체 멤버리스트 조회 -->
<select id='member_list' resultType='member.MemberVO'>
select * from member
</select>

<!-- info name, info code 조회 -->
<select id='info' resultType='member.MemberVO'>
select DISTINCT info_name, info_cd
from member
</select>

<!-- name로 검색 리스트 -->
<select id="search_name_list" resultType="member.MemberVO">
select *
from member
where name like '%'||#{name}||'%'

</select>

<!-- id로 검색 리스트 -->
<select id="search_id_list" resultType="member.MemberVO">
select *
from member
where id like '%'||#{id}||'%'

</select>
</mapper>

<!-- 로그인처리 -->
<select id='login' resultType='member.MemberVO'>
select * from member where id = #{id} and pw = #{pw}
</select>

<!-- 회원가입처리 -->
<insert id='join'>
insert into member(	id, pw, name, gender, birth, phone, email, post, addr, grade, start_date,
					end_date, state, department_id, department_name, info_cd, info_name )
values ( #{id}, #{pw}, #{name}, #{gender}, #{birth}, #{phone}, #{email}, #{post}, #{addr}
		, #{grade, jdbcType=VARCHAR}, #{start_date}, #{end_date, jdbcType=VARCHAR}, #{state}
		, #{department_id, jdbcType=VARCHAR}, #{department_name, jdbcType=VARCHAR}
		, #{info_cd, jdbcType=VARCHAR}, #{info_name, jdbcType=VARCHAR} )
</insert>


 <!-- 아이디존재여부 확인 -->
<select id='id_check' resultType='integer'>
select count(id) from member where id = #{id}
</select>
 
 
 
 
 
 
 

</mapper>


